define("breakpoint",[],function(){var e={desk:window.matchMedia("(min-width: 940px)")};return e}),define("modernizr",[],Modernizr),require(["modernizr","breakpoint"],function(e){e.csstransforms3d&&require(["modules/carousel"],function(e){e()}),e.touch&&require(["fastclick"],function(e){e.attach(document.body)})}),define("modules/featureTests",function(){}),define("modules/utils/is_admin",[],function(){var e=function(){return window.npb&&window.npb.admin?!0:!1};return e}),define("modules/flash",[],function(){var e=function(){var e=document.querySelector(".flash__close")||null;null!==e&&e.addEventListener("click",function(e){e.preventDefault();var t=this.parentNode;t.classList.add("fade-out")})};return e}),function(e){e.picturefill=function(){for(var t=e.document.getElementsByTagName("span"),n=0,i=t.length;i>n;n++)if(null!==t[n].getAttribute("data-picture")){for(var r=t[n].getElementsByTagName("span"),o=[],a=0,s=r.length;s>a;a++){var c=r[a].getAttribute("data-media");(!c||e.matchMedia&&e.matchMedia(c).matches)&&o.push(r[a])}var u=t[n].getElementsByTagName("img")[0];if(o.length){var l=o.pop();if(u&&"NOSCRIPT"!==u.parentNode.nodeName){if(l===u.parentNode)continue}else u=e.document.createElement("img"),u.alt=t[n].getAttribute("data-alt");u.src=l.getAttribute("data-src"),l.appendChild(u),u.removeAttribute("width"),u.removeAttribute("height")}else u&&u.parentNode.removeChild(u)}},e.addEventListener?(e.addEventListener("resize",e.picturefill,!1),e.addEventListener("DOMContentLoaded",function(){e.picturefill(),e.removeEventListener("load",e.picturefill,!1)},!1),e.addEventListener("load",e.picturefill,!1)):e.attachEvent&&e.attachEvent("onload",e.picturefill),e.picturefill()}(this),define("picturefill",function(){}),window.Echo=function(e,t){var n,i,r,o=[],a=function(i){var r=i.getBoundingClientRect();return(r.top>=0&&r.left>=0&&r.top)<=(e.innerHeight||t.documentElement.clientHeight)+parseInt(n)},s=function(){for(var e=o.length;e--;){var t=o[e];a(t)&&(t.src=t.getAttribute("data-echo"),o.splice(e,1))}},c=function(){clearTimeout(r),r=setTimeout(s,i)},u=function(r){var a=t.querySelectorAll("[data-echo]"),s=r||{};n=s.offset||0,i=s.throttle||250;for(var u=0;u<a.length;u++)o.push(a[u]);c(),t.addEventListener?e.addEventListener("scroll",c,!1):e.attachEvent("onscroll",c)};return{init:u,render:c}}(window,document),"undefined"!=typeof define&&define.amd?define("echo",[],function(){return Echo}):window.Echo=Echo,define("debounce",[],function(){function e(e,t,n,i){function r(){function n(){o||r(i),o=!0}function i(){o=!1,t()}var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,o=!1;window.addEventListener(e,function(){n()})}function o(){function i(){t()}var r;window.addEventListener(e,function(){r&&clearTimeout(r),r=setTimeout(i,n||300)},!1)}i?r():o()}return e}),define("modules/slabtext",["debounce"],function(e){var t={init:function(){var e=document.querySelector(".headline"),t=2e3;e&&this.slabtext(e,t)},slabtext:function(t,n){function i(){var e,i,r,o,a,s,c=t.parentNode;t.style.display="inline",e=c.clientWidth,s=Math.min(e/20),i=t.offsetWidth,r=parseInt(window.getComputedStyle(t,null).getPropertyValue("font-size")||t.currentStyle.fontSize,10),o=(e-s)/i,a=Math.min(r*o).toPrecision(3),t.style.fontSize=a>n?n+"px":a+"px",t.style.display="block"}e("resize",i,300);!function(){var e=t.innerHTML.split(" "),n=e[0];n.length<=5&&e.length<=2&&(t.style.whiteSpace="nowrap")}();i()}};return t}),function(e,t){function n(){if(!i.READY){i.event.determineEventTypes();for(var e in i.gestures)i.gestures.hasOwnProperty(e)&&i.detection.register(i.gestures[e]);i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect),i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect),i.READY=!0}}var i=function(e,t){return new i.Instance(e,t||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in e,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.DIRECTION_DOWN="down",i.DIRECTION_LEFT="left",i.DIRECTION_UP="up",i.DIRECTION_RIGHT="right",i.POINTER_MOUSE="mouse",i.POINTER_TOUCH="touch",i.POINTER_PEN="pen",i.EVENT_START="start",i.EVENT_MOVE="move",i.EVENT_END="end",i.DOCUMENT=document,i.plugins={},i.READY=!1,i.Instance=function(e,t){var r=this;return n(),this.element=e,this.enabled=!0,this.options=i.utils.extend(i.utils.extend({},i.defaults),t||{}),this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),i.event.onTouch(e,i.EVENT_START,function(e){r.enabled&&i.detection.startDetect(r,e)}),this},i.Instance.prototype={on:function(e,t){for(var n=e.split(" "),i=0;n.length>i;i++)this.element.addEventListener(n[i],t,!1);return this},off:function(e,t){for(var n=e.split(" "),i=0;n.length>i;i++)this.element.removeEventListener(n[i],t,!1);return this},trigger:function(e,t){var n=i.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var r=this.element;return i.utils.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var r=null,o=!1,a=!1;i.event={bindDom:function(e,t,n){for(var i=t.split(" "),r=0;i.length>r;r++)e.addEventListener(i[r],n,!1)},onTouch:function(e,t,n){var s=this;this.bindDom(e,i.EVENT_TYPES[t],function(c){var u=c.type.toLowerCase();if(!u.match(/mouse/)||!a){(u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===c.which)&&(o=!0),u.match(/touch|pointer/)&&(a=!0);var l=0;o&&(i.HAS_POINTEREVENTS&&t!=i.EVENT_END?l=i.PointerEvent.updatePointer(t,c):u.match(/touch/)?l=c.touches.length:a||(l=u.match(/up/)?0:1),l>0&&t==i.EVENT_END?t=i.EVENT_MOVE:l||(t=i.EVENT_END),l||null===r?r=c:c=r,n.call(i.detection,s.collectEventData(e,t,c)),i.HAS_POINTEREVENTS&&t==i.EVENT_END&&(l=i.PointerEvent.updatePointer(t,c))),l||(r=null,o=!1,a=!1,i.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[i.EVENT_START]=e[0],i.EVENT_TYPES[i.EVENT_MOVE]=e[1],i.EVENT_TYPES[i.EVENT_END]=e[2]},getTouchList:function(e){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():e.touches?e.touches:[{identifier:1,pageX:e.pageX,pageY:e.pageY,target:e.target}]},collectEventData:function(e,t,n){var r=this.getTouchList(n,t),o=i.POINTER_TOUCH;return(n.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,n))&&(o=i.POINTER_MOUSE),{center:i.utils.getCenter(r),timeStamp:(new Date).getTime(),target:n.target,touches:r,eventType:t,pointerType:o,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}},i.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return Object.keys(e.pointers).sort().forEach(function(n){t.push(e.pointers[n])}),t},updatePointer:function(e,t){return e==i.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n={};return n[i.POINTER_MOUSE]=t.pointerType==t.MSPOINTER_TYPE_MOUSE||t.pointerType==i.POINTER_MOUSE,n[i.POINTER_TOUCH]=t.pointerType==t.MSPOINTER_TYPE_TOUCH||t.pointerType==i.POINTER_TOUCH,n[i.POINTER_PEN]=t.pointerType==t.MSPOINTER_TYPE_PEN||t.pointerType==i.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},i.utils={extend:function(e,n,i){for(var r in n)e[r]!==t&&i||(e[r]=n[r]);return e},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){for(var t=[],n=[],i=0,r=e.length;r>i;i++)t.push(e[i].pageX),n.push(e[i].pageY);return{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),r=Math.abs(e.pageY-t.pageY);return n>=r?e.pageX-t.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:e.pageY-t.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==i.DIRECTION_UP||e==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){var n,i=["webkit","khtml","moz","ms","o",""];if(t&&e.style){for(var r=0;i.length>r;r++)for(var o in t)t.hasOwnProperty(o)&&(n=o,i[r]&&(n=i[r]+n.substring(0,1).toUpperCase()+n.substring(1)),e.style[n]=t[o]);"none"==t.userSelect&&(e.onselectstart=function(){return!1})}}},i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:i.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);for(var t=this.current.inst.options,n=0,r=this.gestures.length;r>n;n++){var o=this.gestures[n];if(!this.stopped&&t[o.name]!==!1&&o.handler.call(o,e,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=e),e.eventType==i.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=i.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;if(t&&(e.touches.length!=t.touches.length||e.touches===t.touches)){t.touches=[];for(var n=0,r=e.touches.length;r>n;n++)t.touches.push(i.utils.extend({},e.touches[n]))}var o=e.timeStamp-t.timeStamp,a=e.center.pageX-t.center.pageX,s=e.center.pageY-t.center.pageY,c=i.utils.getVelocity(o,a,s);return i.utils.extend(e,{deltaTime:o,deltaX:a,deltaY:s,velocityX:c.x,velocityY:c.y,distance:i.utils.getDistance(t.center,e.center),angle:i.utils.getAngle(t.center,e.center),direction:i.utils.getDirection(t.center,e.center),scale:i.utils.getScale(t.touches,e.touches),rotation:i.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),i.utils.extend(i.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},i.gestures=i.gestures||{},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case i.EVENT_START:clearTimeout(this.timer),i.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==i.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case i.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==i.EVENT_END){var n=i.detection.previous,r=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),r=!0),(!r||t.options.tap_always)&&(i.detection.current.name="tap",t.trigger(i.detection.current.name,e))}}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==i.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(n.options.drag_max_touches>0&&e.touches.length>n.options.drag_max_touches))switch(e.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(e.distance<n.options.drag_min_distance&&i.detection.current.name!=this.name)return;i.detection.current.name=this.name,(i.detection.current.lastEvent.drag_locked_to_axis||n.options.drag_lock_to_axis&&n.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var r=i.detection.current.lastEvent.direction;e.drag_locked_to_axis&&r!==e.direction&&(e.direction=i.utils.isVertical(r)?0>e.deltaY?i.DIRECTION_UP:i.DIRECTION_DOWN:0>e.deltaX?i.DIRECTION_LEFT:i.DIRECTION_RIGHT),this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),n.trigger(this.name+e.direction,e),(n.options.drag_block_vertical&&i.utils.isVertical(e.direction)||n.options.drag_block_horizontal&&!i.utils.isVertical(e.direction))&&e.preventDefault();break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,n){if(i.detection.current.name!=this.name&&this.triggered)return n.trigger(this.name+"end",e),this.triggered=!1,t;if(!(2>e.touches.length))switch(n.options.transform_always_block&&e.preventDefault(),e.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var r=Math.abs(1-e.scale),o=Math.abs(e.rotation);if(n.options.transform_min_scale>r&&n.options.transform_min_rotation>o)return;i.detection.current.name=this.name,this.triggered||(n.trigger(this.name+"start",e),this.triggered=!0),n.trigger(this.name,e),o>n.options.transform_min_rotation&&n.trigger("rotate",e),r>n.options.transform_min_scale&&(n.trigger("pinch",e),n.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case i.EVENT_END:this.triggered&&n.trigger(this.name+"end",e),this.triggered=!1}}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,n){return n.options.prevent_mouseevents&&e.pointerType==i.POINTER_MOUSE?(e.stopDetect(),t):(n.options.prevent_default&&e.preventDefault(),e.eventType==i.EVENT_START&&n.trigger(this.name,e),t)}},i.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==i.EVENT_END&&t.trigger(this.name,e)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=i:(e.Hammer=i,"function"==typeof e.define&&e.define.amd&&e.define("hammer",[],function(){return i}))}(this),define("hammer",function(){}),define("modules/nav/events",["hammer"],function(e){var t={init:function(){for(var e=document.getElementById("toggle-container"),t=document.getElementById("nav-container"),n=["click","dragright","dragleft"],i=n.length,r=0;i>r;r++)this.handleEvents(e,t,n[r])},handleEvents:function(e,n,i){switch(i){case"click":e.addEventListener("click",function(i){n.classList.contains("nav--open")?t.close(e,n):t.open(e,n),i.preventDefault()});break;case"dragright":t.doHammer(e,"drag_block_vertical","dragright",open,e,n);break;case"dragleft":for(var r=document.getElementById("content"),o=[e,n,r],a=o.length,s=0;a>s;s++)t.doHammer(o[s],"drag_block_vertical","dragleft",close,e,n);break;case"tap":t.doHammer(r,"drag_block_vertical","tap",close,e,n)}},open:function(e,t){e.classList.remove("nav--closed"),e.classList.add("nav--open"),t.classList.remove("nav--closed"),t.classList.add("nav--open")},close:function(e,t){e.classList.remove("nav--open"),e.classList.add("nav--closed"),t.classList.add("nav--closed"),t.classList.remove("nav--open")},doHammer:function(t,n,i,r,o,a){e(t,{}).on(i,function(e){e.preventDefault(),r(o,a)})}};return t}),define("modules/nav/sticky",["debounce","breakpoint"],function(e,t){var n=function(){function n(){e("scroll",i,200,!0)}function i(){var e=r(),t=Math.abs(e-l)>=d;0>e||(d>e&&o(),t&&(e>0&&(u.classList.add("nav--scrolled"),setTimeout(function(){u.style.position="fixed"},1e3)),l>e&&e>0?a():e>l?s():o()),l=e)}function r(){return window.pageYOffset||c.scrollTop}function o(){u.classList.remove("nav--unstuck"),u.classList.remove("nav--stuck"),u.classList.remove("nav--scrolled"),u.style.position="absolute"}function a(){u.classList.remove("nav--unstuck"),u.classList.add("nav--stuck")}function s(){u.classList.add("nav--unstuck"),u.classList.remove("nav--stuck")}if(t.desk.matches){var c=document.documentElement,u=document.getElementById("nav-container"),l=0,d=75;n()}}();return n}),define("modules/nav/init",["modules/nav/events","modules/nav/sticky"],function(e){var t={init:function(){this.events()},events:function(){e.init()}};return t}),define("modules/utils/ajax",[],function(){var e={},t=document.querySelector('meta[name="csrf-token"]');return t?(e.x=function(){return new XMLHttpRequest},e.send=function(e,n,i,r,o){var a=new XMLHttpRequest;a.open(i,e,o),a.onreadystatechange=function(){4==a.readyState&&n(a.responseText)},"POST"==i&&(a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("X-CSRF-Token",t.getAttribute("content"))),a.send(r)},e.post=function(t,n,i,r){var o=[];for(var a in n)o.push(encodeURIComponent(a)+"="+encodeURIComponent(n[a]));e.send(t,i,"POST",o.join("&"),r)},e):void 0}),define("modules/utils/upto",[],function(){var e=function(e,t){t=t.toLowerCase();do if(e=e.parentNode,e.tagName.toLowerCase()==t)return e;while(e.parentNode)};return e}),define("modules/utils/delete_method",["modules/utils/ajax","modules/utils/upto"],function(e,t){var n=function(){var n,i=document.querySelector('[data-method="delete"]');i&&i.addEventListener("click",function(i){var r=this;n=this.pathname,i.preventDefault(),confirm("Are you sure?")&&e.post(n,{_method:"delete"},function(){var e=t(r,r.getAttribute("data-remove"));e.classList.add("deleted")})})};return n}),define("modules/analytics",["require"],function(e){var t;return window.GoogleAnalyticsObject="ga",window.ga=function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=1*new Date,window.ga("create","UA-46265154-1","kinmill.com"),window.ga("send","pageview"),t=function(){window.ga.apply(this,arguments)},e(["http://www.google-analytics.com/analytics.js"]),t}),requirejs.config({baseUrl:"/assets/js",paths:{hammer:"libs/hammer",picturefill:"libs/picturefill",fastclick:"libs/fastclick",breakpoint:"modules/utils/breakpoint",debounce:"modules/utils/debounce",echo:"libs/echo"}}),require(["modules/featureTests"]),require(["modules/utils/is_admin"],function(e){e()&&require(["modules/markdown_preview"],function(e){e()})}),require(["modules/flash"],function(e){e()}),require(["picturefill"]),require(["echo"],function(e){e.init({offset:100,throttle:250})}),require(["modules/slabtext"],function(e){e.init()}),require(["modules/nav/init"],function(e){e.init()}),require(["modules/utils/delete_method"],function(e){e()}),require(["modules/analytics"]),define("main",function(){});